<script>
function load_data(url){


fetch(url).then(reso=>reso.json()).then(rawdata=>{
    var tabledata = rawdata.events_data;

    var newColumns = [
        {title:"Name", field:"name", sorter:"string"},
        {title:"Browser", field:"browser", sorter:"string"},
        {title:"City", field:"city", sorter:"string"},
        {title:"Country", field:"country", sorter:"string"},
        {title:"OS", field:"os", sorter:"string"},
        {title:"Region", field:"region", sorter:"string"},
        {title:"Time", field:"time", sorter:"string"},
    ]

    var table = new Tabulator("#table", {
        data: tabledata, // Assign data to table
        autoColumns: true, // Create columns from data field names
        layout: "fitColumns", // Fit columns to width of table
        resizableColumns: false,
        rowClick:function(e, row){
        console.log(row)
        alert(row._row.data.name + ' at ' + row._row.data.time)
    },
    }); 
    table.setColumns(newColumns)
    console.log("Updated!")        

});
}
</script>